(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdd6bc38"],{"174e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"homePage",staticClass:"admininterface"},[n("el-container",[n("el-header",[n("div",{staticClass:"fleft"},[e._v("\n            后台管理\n          ")]),n("div",{staticClass:"fright"},[n("ul",[n("li",[n("i",{staticClass:"el-icon-setting"})]),n("li",[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                        管理员"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("个人信息")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.Logout()}}},[e._v("切换账号")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.Logout()}}},[e._v("退出")])],1)],1)],1),n("li",{on:{click:function(t){return e.JumpTOIndex()}}},[e._v("前台首页")])])])]),n("el-container",[n("el-aside",[n("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"2","unique-opened":!0,collapse:e.isCollapse,"background-color":"#eee","text-color":"#333","active-text-color":"#0074e4",router:""}},[n("el-menu-item",{on:{click:function(t){return e.change()}}},[n("i",{staticClass:"el-icon-more icon-black"})]),e._l(e.menuList,function(t,i){return n("el-submenu",{key:i,attrs:{index:t.id}},[n("template",{slot:"title"},[n("i",{staticClass:"icon-black",class:t.icon}),n("span",[e._v(e._s(t.tit))])]),e._l(t.children,function(t){return n("el-menu-item",{key:t.id,attrs:{index:t.index}},[e._v("\n                            "+e._s(t.childtit)+"\n                        ")])})],2)})],2)],1),n("el-main",[e.openTab.length?n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":e.tabClick,"tab-remove":e.tabRemove},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[e._l(e.openTab,function(t){return n("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.route}},[n("span",{staticStyle:{"user-select":"none"},attrs:{slot:"label"},slot:"label"},[n("i",{class:t.icon}),e._v(e._s(t.name))])])}),n("div",{staticClass:"main-view"},[n("el-card",[n("keep-alive",[n("router-view")],1)],1)],1)],2):e._e(),n("footer",[e._v("2019 © 蓝桥第十小组")])],1)],1)],1)],1)},o=[],a=(n("ac4d"),n("8a81"),n("ac6a"),n("7f7f"),n("a481"),{data:function(){return{clientHeight:"",isCollapse:!1,menuList:[{id:"1",tit:"用户管理",icon:"el-icon-s-custom",children:[{index:"/admininterface/usermanage/queryuser",childtit:"查询用户"},{index:"/admininterface/usermanage/adduser",childtit:"添加用户"}]},{id:"2",tit:"商品管理",icon:"el-icon-s-shop",children:[{index:"/admininterface/productsmanage/queryproducts",childtit:"查询商品"},{index:"/admininterface/productsmanage/addproducts",childtit:"添加商品"}]},{id:"3",tit:"类别管理",icon:"el-icon-s-grid",children:[{index:"/admininterface/categorymanage/querycategory",childtit:"查询类别"},{index:"/admininterface/categorymanage/addcategory",childtit:"添加类别"}]},{id:"4",tit:"订单管理",icon:"el-icon-s-order",children:[{index:"/admininterface/ordermanage/queryorder",childtit:"查询订单"}]}]}},created:function(){console.log("当前用户："+window.sessionStorage.getItem("loginAdminId")),this.$store.state.loginAdminId||(alert("请先登录管理员账号！"),this.$router.replace({path:"/adminlogin"}))},computed:{openTab:function(){return this.$store.state.openTab},activeIndex:{get:function(){return this.$store.state.activeIndex},set:function(e){this.$store.commit("set_active_index",e)}}},destroyed:function(){window.removeEventListener("beforeunload",function(){console.log("e => this.beforeunloadFn(e)e => this.beforeunloadFn(e)e => this.beforeunloadFn(e)")})},mounted:function(){var e=this;window.addEventListener("beforeunload",function(t){return e.beforeunloadFn(t)}),"/admininterface/mainpage"==this.$route.path?this.$store.commit("add_tabs",{route:"/admininterface/mainpage",name:"主页",icon:"el-icon-s-home"}):(this.$store.commit("add_tabs",{route:"/admininterface/mainpage",name:"主页",icon:"el-icon-s-home"}),this.$store.commit("add_tabs",{route:this.$route.path,name:this.$route.name,icon:""})),this.$store.commit("set_active_index",this.$route.path),this.clientHeight="".concat(document.documentElement.clientHeight),window.onresize=function(){this.clientHeight="".concat(document.documentElement.clientHeight)}},watch:{$route:function(e,t){var n=!1,i=!0,o=!1,a=void 0;try{for(var c,s=this.openTab[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var r=c.value;if(r.name==e.name){n=!0;break}}}catch(l){o=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}n||this.$store.commit("add_tabs",{route:e.path,name:e.name,icon:"123"}),this.$store.commit("set_active_index",e.path)},clientHeight:function(){this.changeFixed(this.clientHeight)}},methods:{changeFixed:function(e){console.log(e),this.$refs.homePage.style.height=e-1+"px"},beforeunloadFn:function(){console.log("离开后台管理页面。")},Logout:function(){this.$store.dispatch("logoutAdmin"),console.log("退出登录。"),this.$router.replace({path:"/adminlogin"})},change:function(){this.isCollapse=!this.isCollapse},tabClick:function(e){this.$router.replace({path:this.activeIndex})},tabRemove:function(e){"/admininterface/mainpage"!=e&&(this.$store.commit("delete_tabs",e),this.activeIndex==e&&this.openTab&&this.openTab.length>=1&&(this.$store.commit("set_active_index",this.openTab[this.openTab.length-1].route),this.$router.replace({path:this.activeIndex})))},JumpTOIndex:function(){this.$router.replace({path:"/index"})}}}),c=a,s=(n("f4b3"),n("2877")),r=Object(s["a"])(c,i,o,!1,null,null,null);t["default"]=r.exports},a893:function(e,t,n){},f4b3:function(e,t,n){"use strict";var i=n("a893"),o=n.n(i);o.a}}]);
//# sourceMappingURL=chunk-fdd6bc38.21088404.js.map